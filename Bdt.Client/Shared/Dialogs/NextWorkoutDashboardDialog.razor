@using Bdt.Shared.Dtos.Planner;

@inject NavigationManager _navigation

<MudDialog>
    <DialogContent>
        Please select an option.
        <MudStack Class="mt-10">
            @* <MudButton FullWidth="true" Color="MudBlazor.Color.Success" Variant="MudBlazor.Variant.Outlined" OnClick="StartWorkout">Start</MudButton> *@
            <MudButton FullWidth="true" Color="MudBlazor.Color.Success" Variant="MudBlazor.Variant.Outlined" OnClick="GoToAddWorkout">Completed</MudButton>
            @if (!IsFromPlanner)
            {
                <MudButton FullWidth="true" Color="MudBlazor.Color.Warning" Variant="MudBlazor.Variant.Outlined" OnClick="GoToPlanner">Change</MudButton>
            }
            <MudButton FullWidth="true" Color="MudBlazor.Color.Info" Variant="MudBlazor.Variant.Outlined" OnClick="Cancel">Back</MudButton>
        </MudStack>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public decimal WorkoutDuration { get; set; }
    [Parameter] public bool IsFromPlanner { get; set; }

    private void GoToAddWorkout()
    {
        _navigation.NavigateTo($"/addworkout/{WorkoutDuration}");
    }

    private void StartWorkout()
    {
        _navigation.NavigateTo($"/intervaltimer/{WorkoutDuration}");
    }

    private void GoToPlanner()
    {
        _navigation.NavigateTo("/planner");
    }

    private void Cancel()
    {
        MudDialog.Cancel();
    }
}